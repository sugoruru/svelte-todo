import{t as k,a as A}from"../chunks/DP3vqRdw.js";import{Y as ye,i as me,B as Y,m as x,Z as ge,y as pe,g as m,J as be,z as xe,A as Z,C as P,o as L,ac as Te,D as re,j as ae,F as we,ao as U,ag as te,$ as Q,ap as Ne,V as Ae,aq as W,a8 as ke,ar as Ee,as as Ie,af as Se,at as De,k as Le,au as Me,av as Ce,aa as Oe,aw as qe,ax as Be,ay as Re,az as He,aA as Ve,aB as Ye,a as Pe,aj as Ue,ai as le,aC as ze,t as D,v as b,w as p,x as N,aD as Fe,q as se,s as ne,al as z,M as Ge,p as Je,N as q,an as j}from"../chunks/Df49f9vB.js";import{i as Ke}from"../chunks/klbBXu0U.js";import{a as Xe,l as ie,e as oe,s as C}from"../chunks/Bl46ktNg.js";import{p as T,i as Ze}from"../chunks/BEpOqfwL.js";function ue(e,r){return r}function Qe(e,r,a,t){for(var l=[],s=r.length,n=0;n<s;n++)Ie(r[n].e,l,!0);var o=s>0&&l.length===0&&a!==null;if(o){var v=a.parentNode;Se(v),v.append(a),t.clear(),I(e,r[0].prev,r[s-1].next)}De(l,()=>{for(var f=0;f<s;f++){var i=r[f];o||(t.delete(i.k),I(e,i.prev,i.next)),Le(i.e,!o)}})}function fe(e,r,a,t,l,s=null){var n=e,o={flags:r,items:new Map,first:null};{var v=e;n=x?Y(ge(v)):v.appendChild(ye())}x&&pe();var f=null,i=!1,h=be(()=>{var u=a();return ke(u)?u:u==null?[]:te(u)});me(()=>{var u=m(h),_=u.length;if(i&&_===0)return;i=_===0;let d=!1;if(x){var w=n.data===xe;w!==(_===0)&&(n=Z(),Y(n),P(!1),d=!0)}if(x){for(var y=null,c,g=0;g<_;g++){if(L.nodeType===8&&L.data===Te){n=L,d=!0,P(!1);break}var O=u[g],S=t(O,g);c=ve(L,o,y,null,O,S,g,l,r,a),o.items.set(S,c),y=c}_>0&&Y(Z())}x||We(u,o,n,l,r,t,a),s!==null&&(_===0?f?re(f):f=ae(()=>s(n)):f!==null&&we(f,()=>{f=null})),d&&P(!0),m(h)}),x&&(n=L)}function We(e,r,a,t,l,s,n){var o=e.length,v=r.items,f=r.first,i=f,h,u=null,_=[],d=[],w,y,c,g;for(g=0;g<o;g+=1){if(w=e[g],y=s(w,g),c=v.get(y),c===void 0){var O=i?i.e.nodes_start:a;u=ve(O,r,u,u===null?r.first:u.next,w,y,g,t,l,n),v.set(y,u),_=[],d=[],i=u.next;continue}if(je(c,w,g),(c.e.f&U)!==0&&re(c.e),c!==i){if(h!==void 0&&h.has(c)){if(_.length<d.length){var S=d[0],E;u=S.prev;var X=_[0],H=_[_.length-1];for(E=0;E<_.length;E+=1)$(_[E],S,a);for(E=0;E<d.length;E+=1)h.delete(d[E]);I(r,X.prev,H.next),I(r,u,X),I(r,H,S),i=S,u=H,g-=1,_=[],d=[]}else h.delete(c),$(c,i,a),I(r,c.prev,c.next),I(r,c,u===null?r.first:u.next),I(r,u,c),u=c;continue}for(_=[],d=[];i!==null&&i.k!==y;)(i.e.f&U)===0&&(h??(h=new Set)).add(i),d.push(i),i=i.next;if(i===null)continue;c=i}_.push(c),u=c,i=c.next}if(i!==null||h!==void 0){for(var V=h===void 0?[]:te(h);i!==null;)(i.e.f&U)===0&&V.push(i),i=i.next;var _e=V.length;if(_e>0){var he=o===0?a:null;Qe(r,V,he,v)}}Q.first=r.first&&r.first.e,Q.last=u&&u.e}function je(e,r,a,t){Ne(e.v,r),e.i=a}function ve(e,r,a,t,l,s,n,o,v,f){var i=(v&Me)!==0,h=(v&Ce)===0,u=i?h?Ae(l):W(l):l,_=(v&Ee)===0?n:W(n),d={i:_,v:u,k:s,a:null,e:null,prev:a,next:t};try{return d.e=ae(()=>o(e,u,_,f),x),d.e.prev=a&&a.e,d.e.next=t&&t.e,a===null?r.first=d:(a.next=d,a.e.next=d.e),t!==null&&(t.prev=d,t.e.prev=d.e),d}finally{}}function $(e,r,a){for(var t=e.next?e.next.e.nodes_start:a,l=r?r.e.nodes_start:a,s=e.e.nodes_start;s!==t;){var n=Oe(s);l.before(s),s=n}}function I(e,r,a){r===null?e.first=a:(r.next=a,r.e.next=a&&a.e),a!==null&&(a.prev=r,a.e.prev=r&&r.e)}function de(e){var r,a,t="";if(typeof e=="string"||typeof e=="number")t+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(r=0;r<l;r++)e[r]&&(a=de(e[r]))&&(t&&(t+=" "),t+=a)}else for(a in e)e[a]&&(t&&(t+=" "),t+=a);return t}function $e(){for(var e,r,a=0,t="",l=arguments.length;a<l;a++)(e=arguments[a])&&(r=de(e))&&(t&&(t+=" "),t+=r);return t}function K(e){return typeof e=="object"?$e(e):e??""}function er(e,r,a){var t=e==null?"":""+e;return t===""?null:t}function R(e,r,a,t,l,s){var n=e.__className;if(x||n!==a||n===void 0){var o=er(a);(!x||o!==e.getAttribute("class"))&&(o==null?e.removeAttribute("class"):e.className=o),e.__className=a}return s}const rr=Symbol("is custom element"),ar=Symbol("is html");function tr(e){if(x){var r=!1,a=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var t=e.value;B(e,"value",null),e.value=t}if(e.hasAttribute("checked")){var l=e.checked;B(e,"checked",null),e.checked=l}}};e.__on_r=a,qe(a),Xe()}}function B(e,r,a,t){var l=lr(e);x&&(l[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||l[r]!==(l[r]=a)&&(r==="loading"&&(e[Be]=a),a==null?e.removeAttribute(r):typeof a!="string"&&sr(e).includes(r)?e[r]=a:e.setAttribute(r,a))}function lr(e){return e.__attributes??(e.__attributes={[rr]:e.nodeName.includes("-"),[ar]:e.namespaceURI===Re})}var ee=new Map;function sr(e){var r=ee.get(e.nodeName);if(r)return r;ee.set(e.nodeName,r=[]);for(var a,t=e,l=Element.prototype;l!==t;){a=Ve(t);for(var s in a)a[s].set&&r.push(s);t=He(t)}return r}function nr(e,r,a=r){var t=Ye();ie(e,"input",l=>{var s=l?e.defaultValue:e.value;if(s=F(e)?G(s):s,a(s),t&&s!==(s=r())){var n=e.selectionStart,o=e.selectionEnd;e.value=s??"",o!==null&&(e.selectionStart=n,e.selectionEnd=Math.min(o,e.value.length))}}),(x&&e.defaultValue!==e.value||Pe(r)==null&&e.value)&&a(F(e)?G(e.value):e.value),Ue(()=>{var l=r();F(e)&&l===G(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function F(e){var r=e.type;return r==="number"||r==="range"}function G(e){return e===""?null:+e}function ce(e,r,a){if(e.multiple)return ur(e,r);for(var t of e.options){var l=M(t);if(ze(l,r)){t.selected=!0;return}}(!a||r!==void 0)&&(e.selectedIndex=-1)}function ir(e,r){le(()=>{var a=new MutationObserver(()=>{var t=e.__value;ce(e,t)});return a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{a.disconnect()}})}function or(e,r,a=r){var t=!0;ie(e,"change",l=>{var s=l?"[selected]":":checked",n;if(e.multiple)n=[].map.call(e.querySelectorAll(s),M);else{var o=e.querySelector(s)??e.querySelector("option:not([disabled])");n=o&&M(o)}a(n)}),le(()=>{var l=r();if(ce(e,l,t),t&&l===void 0){var s=e.querySelector(":checked");s!==null&&(l=M(s),a(l))}e.__value=l,t=!1}),ir(e)}function ur(e,r){for(var a of e.options)a.selected=~r.indexOf(M(a))}function M(e){return"__value"in e?e.__value:e.value}var fr=k('<div><button class="rounded px-3 py-1 my-5 bg-sky-500 hover:bg-sky-600 text-white font-bold transition disabled:bg-gray-500"> </button></div>');function vr(e,r){let a=T(r,"text",8,"Button"),t=T(r,"onClick",8,()=>{console.log("Button clicked!")}),l=T(r,"className",8,""),s=T(r,"disabled",8,!1);var n=fr(),o=b(n),v=b(o,!0);p(o),p(n),D(()=>{R(n,1,K(l())),o.disabled=s(),C(v,a())}),oe("click",o,function(...f){var i;(i=t())==null||i.apply(this,f)}),A(e,n)}var dr=k('<div><label> <input type="text" class="rounded w-full my-2"></label></div>');function cr(e,r){let a=T(r,"label",8),t=T(r,"ID",8),l=T(r,"value",12),s=T(r,"className",8,"");var n=dr(),o=b(n),v=b(o),f=N(v);tr(f),p(o),p(n),D(()=>{R(n,1,K(s())),B(o,"for",t()),C(v,`${a()??""} `),B(f,"id",t())}),nr(f,l),A(e,n)}const J=[{name:"高",color:"bg-red-400"},{name:"中",color:"bg-yellow-400"},{name:"低",color:"bg-green-400"}];var _r=k("<option> </option>"),hr=k('<div><label for="selectInput">Priority <select id="selectInput" class="w-full rounded"></select></label></div>');function yr(e,r){let a=T(r,"priority",12),t=T(r,"className",8,"");var l=hr(),s=b(l),n=N(b(s));D(()=>{a(),Fe(()=>{})}),fe(n,5,()=>J,ue,(o,v,f)=>{var i=_r();i.value=i.__value=f;var h=b(i,!0);p(i),D(()=>C(h,m(v).name)),A(o,i)}),p(n),p(s),p(l),D(()=>R(l,1,K(t()))),or(n,a),A(e,l)}var mr=k('<p class="text-gray-500 text-center py-4">TODOがありません</p>'),gr=k('<li class="flex items-center justify-between p-3 bg-white rounded-md shadow-sm hover:shadow transition-shadow duration-200"><div class="flex items-center"><span> </span> <span class="text-gray-800 mx-5"> </span></div> <button class="w-8 h-8 flex-shrink-0 flex items-center justify-center bg-red-500 hover:bg-red-600 text-white rounded-full transition-colors duration-200" aria-label="削除">×</button></li>'),pr=k('<ul class="space-y-3"></ul>'),br=k('<div class="p-4 bg-gray-50 rounded-lg shadow"><!></div>');function xr(e,r){se(r,!1);let a=T(r,"todoList",8),t=T(r,"deleteToDo",8,()=>{});Ke();var l=br(),s=b(l);{var n=v=>{var f=mr();A(v,f)},o=v=>{var f=pr();fe(f,5,a,ue,(i,h)=>{var u=gr(),_=b(u),d=b(_),w=b(d,!0);p(d);var y=N(d,2),c=b(y,!0);p(y),p(_);var g=N(_,2);p(u),D(()=>{R(d,1,`px-2 py-1 rounded text-white font-semibold text-xs ${J[m(h).priority].color}`),C(w,J[m(h).priority].name),C(c,m(h).title)}),oe("click",g,()=>t()(m(h).id)),A(i,u)}),p(f),A(v,f)};Ze(s,v=>{a().length===0?v(n):v(o,!1)})}p(l),A(e,l),ne()}var Tr=k('<head><title>ToDo-App</title></head> <main class="prose mx-auto w-4/5 my-5"><h1>TODOアプリ</h1> <form><!> <!> <!></form> <!></main>',1);function Ir(e,r){se(r,!0);let a=z(""),t=z(0),l=z(Ge([])),s=j(()=>[...m(l)].sort((y,c)=>y.priority-c.priority)),n=j(()=>m(a).length===0);const o=()=>{const y={title:m(a),priority:m(t),id:new Date().getTime()};m(l).push(y),q(a,"")},v=y=>{q(l,m(l).filter(c=>c.id!==y),!0)};var f=Tr(),i=N(Je(f),2),h=N(b(i),2),u=b(h);cr(u,{label:"Title",ID:"titleInput",className:"my-3",get value(){return m(a)},set value(y){q(a,y,!0)}});var _=N(u,2);yr(_,{className:"my-3",get priority(){return m(t)},set priority(y){q(t,y,!0)}});var d=N(_,2);vr(d,{text:"作成",onClick:o,className:"my-3",get disabled(){return m(n)}}),p(h);var w=N(h,2);xr(w,{get todoList(){return m(s)},deleteToDo:v}),p(i),A(e,f),ne()}export{Ir as component};
